{{ define "main" }}
<!-- Hero -->
<section class="relative overflow-hidden hero-glow">
  <div class="relative max-w-6xl mx-auto px-6 pt-28 pb-24 text-center">
    <!-- Status badge -->
    <div class="animate-fade-up inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-racing-card/80 border border-racing-border/50 text-xs text-racing-neutral mb-8 badge-shimmer">
      <span class="w-2 h-2 rounded-full bg-racing-positive pulse-dot"></span>
      Now supporting iRacing, F1 25, and F1 24
    </div>

    <!-- Headline -->
    <h1 class="animate-fade-up animate-delay-1 text-5xl md:text-7xl lg:text-8xl font-black tracking-tight leading-[1.05] mb-8">
      Real-time sim racing
      <br>
      <span class="text-gradient">telemetry overlays</span>
    </h1>

    <!-- Subheading -->
    <p class="animate-fade-up animate-delay-2 text-lg md:text-xl text-racing-neutral max-w-2xl mx-auto mb-12 leading-relaxed">
      Lightweight, modular telemetry widgets that float over your game.
      Speed, inputs, lap times, fuel â€” everything you need at a glance.
    </p>

    <!-- CTA buttons -->
    <div class="animate-fade-up animate-delay-3 flex flex-col sm:flex-row items-center justify-center gap-4">
      <a href="{{ .Site.Params.releaseURL }}" class="btn-glow px-8 py-3.5 bg-gradient-to-r from-racing-accent to-rose-700 text-white font-semibold rounded-xl transition-all text-base">
        Download for Windows
      </a>
      <a href="{{ "features/" | absURL }}" class="px-8 py-3.5 bg-racing-card/80 hover:bg-racing-card border border-racing-border/50 hover:border-racing-border text-racing-text font-semibold rounded-xl transition-all text-base">
        View Features
      </a>
    </div>

    <!-- Preview -->
    <div class="animate-fade-up animate-delay-4 mt-14 max-w-4xl mx-auto">
      <div class="rounded-xl overflow-hidden border border-racing-border/50 shadow-2xl shadow-black/40">
        <img src="{{ "assets/application-preview.gif" | absURL }}" alt="RacePulse application preview" class="w-full" loading="lazy">
      </div>
    </div>

    <!-- Quick stats -->
    <div class="animate-fade-up animate-delay-4 flex items-center justify-center gap-8 mt-14 text-sm">
      <div class="flex items-center gap-2 text-racing-neutral">
        <svg class="w-4 h-4 text-racing-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
        </svg>
        <span>~21MB single exe</span>
      </div>
      <div class="flex items-center gap-2 text-racing-neutral">
        <svg class="w-4 h-4 text-racing-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z"/>
        </svg>
        <span>60Hz telemetry</span>
      </div>
      <div class="flex items-center gap-2 text-racing-neutral">
        <svg class="w-4 h-4 text-racing-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM14 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1V5zM4 15a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1v-4zM14 15a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"/>
        </svg>
        <span>10 widgets</span>
      </div>
    </div>
  </div>
</section>

<div class="divider-gradient"></div>

<!-- Supported Games -->
<section class="max-w-6xl mx-auto px-6 py-24">
  <div class="text-center mb-14">
    <p class="text-xs font-semibold tracking-widest uppercase text-racing-accent mb-3">Compatibility</p>
    <h2 class="text-3xl md:text-4xl font-bold mb-4">Supported Games</h2>
    <p class="text-racing-neutral max-w-lg mx-auto">Auto-detects the running sim and starts capturing telemetry instantly.</p>
  </div>
  <div class="grid md:grid-cols-3 gap-5">
    {{ partial "game-card.html" (dict "name" "iRacing" "transport" "Shared Memory" "desc" "Auto-detected when iRacing is running. No configuration needed." "platform" "Windows") }}
    {{ partial "game-card.html" (dict "name" "F1 25" "transport" "UDP Telemetry" "desc" "Enable UDP telemetry in game settings. Default port 22025." "platform" "All Platforms") }}
    {{ partial "game-card.html" (dict "name" "F1 24" "transport" "UDP Telemetry" "desc" "Enable UDP telemetry in game settings. Default port 22024." "platform" "All Platforms") }}
  </div>
</section>

<div class="divider-gradient"></div>

<!-- In-Game Previews -->
<section class="max-w-6xl mx-auto px-6 py-20">
  <div class="text-center mb-10">
    <p class="text-xs font-semibold tracking-widest uppercase text-racing-accent mb-3">Preview</p>
    <h2 class="text-2xl md:text-3xl font-bold mb-3">RacePulse In Action</h2>
    <p class="text-racing-neutral max-w-2xl mx-auto">Watch real-time in-race telemetry and see how quickly you can tailor each widget to your setup.</p>
  </div>
  <div class="grid md:grid-cols-2 gap-6">
    <div>
      <div class="rounded-xl overflow-hidden border border-racing-border/50 shadow-2xl shadow-black/30">
        <img src="{{ "assets/iracing-input-telemetry-overlay-sebring.gif" | absURL }}" alt="RacePulse inputs telemetry overlay in iRacing at Sebring" class="w-full aspect-video object-contain bg-racing-darker" loading="lazy">
      </div>
    </div>
    <div>
      <div class="rounded-xl overflow-hidden border border-racing-border/50 shadow-2xl shadow-black/30">
        <img src="{{ "assets/widget-customization-preview.gif" | absURL }}" alt="RacePulse widget customization preview" class="w-full aspect-video object-contain bg-racing-darker" loading="lazy">
      </div>
    </div>
  </div>
</section>

<!-- Features Grid -->
<section class="relative section-glow-top">
  <div class="absolute inset-0 bg-racing-darker/60"></div>
  <div class="relative max-w-6xl mx-auto px-6 py-24">
    <div class="text-center mb-14">
      <p class="text-xs font-semibold tracking-widest uppercase text-racing-accent mb-3">What you get</p>
      <h2 class="text-3xl md:text-4xl font-bold mb-4">Core Features</h2>
      <p class="text-racing-neutral max-w-lg mx-auto">Everything you need from a telemetry overlay, nothing you don't.</p>
    </div>
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-5">
      {{ partial "feature-card.html" (dict "title" "Modular Widgets" "desc" "Speed, gear, RPM, delta, inputs, fuel, G-force, and more. Each widget is an independent overlay window." "icon" "grid") }}
      {{ partial "feature-card.html" (dict "title" "Per-Widget Customization" "desc" "Choose units, toggle visibility, adjust display options. Settings persist across sessions automatically." "icon" "settings") }}
      {{ partial "feature-card.html" (dict "title" "Multi-Game Support" "desc" "iRacing, F1 25, and F1 24. Auto-detects the running sim and all widgets work across every supported game." "icon" "flag") }}
      {{ partial "feature-card.html" (dict "title" "Advanced Widgets" "desc" "Telemetry Core combines rev lights, gear, speed, and position. Inputs Telemetry shows a live scrolling input graph." "icon" "bolt") }}
      {{ partial "feature-card.html" (dict "title" "Single Executable" "desc" "~21MB download, no installer, no dependencies. Drop it anywhere and run. Widget settings survive updates." "icon" "package") }}
      {{ partial "feature-card.html" (dict "title" "Session Recording" "desc" "Telemetry sessions saved to local storage with lap times, session metadata, and full frame history." "icon" "chart" "badge" "Coming Soon") }}
    </div>
  </div>
</section>

<div class="divider-gradient"></div>

<!-- Widget Showcase -->
<section class="max-w-6xl mx-auto px-6 py-24">
  <div class="text-center mb-14">
    <p class="text-xs font-semibold tracking-widest uppercase text-racing-accent mb-3">Widgets</p>
    <h2 class="text-3xl md:text-4xl font-bold mb-4">10 Overlay Widgets</h2>
    <p class="text-racing-neutral max-w-lg mx-auto">Each widget is a standalone, always-on-top window. Mix and match what you need.</p>
  </div>
  <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
    {{ range (slice
      (dict "name" "Speed" "detail" "Live readout")
      (dict "name" "Gear" "detail" "Bold indicator")
      (dict "name" "RPM" "detail" "Redline bar")
      (dict "name" "Lap Time" "detail" "Current / last / best")
      (dict "name" "Delta" "detail" "vs. best lap")
      (dict "name" "Inputs" "detail" "Throttle / brake / clutch")
      (dict "name" "Fuel" "detail" "Remaining + estimate")
      (dict "name" "G-Force" "detail" "2D visualization")
    ) }}
      <div class="bg-racing-card/60 border border-racing-border/50 rounded-xl p-4 text-center card-glow">
        <p class="font-semibold text-sm mb-0.5">{{ .name }}</p>
        <p class="text-xs text-racing-neutral">{{ .detail }}</p>
      </div>
    {{ end }}
  </div>
  <div class="grid md:grid-cols-2 gap-4 mt-4">
    <div class="bg-racing-card/60 border border-racing-border/50 rounded-xl p-5 card-glow">
      <div class="flex items-center gap-2 mb-2">
        <span class="px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider bg-racing-accent/10 text-racing-accent border border-racing-accent/20">Advanced</span>
        <h3 class="font-bold">Telemetry Core</h3>
      </div>
      <p class="text-sm text-racing-neutral leading-relaxed">Animated rev lights, gear, RPM, speed, race position, track temp, elapsed time, and lap count. Metric and imperial. Pit limiter flash.</p>
    </div>
    <div class="bg-racing-card/60 border border-racing-border/50 rounded-xl p-5 card-glow">
      <div class="flex items-center gap-2 mb-2">
        <span class="px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider bg-racing-accent/10 text-racing-accent border border-racing-accent/20">Advanced</span>
        <h3 class="font-bold">Inputs Telemetry</h3>
      </div>
      <p class="text-sm text-racing-neutral leading-relaxed">Live scrolling input graph with color-coded traces, pedal bars, optional steering wheel visualization, gear, and speed.</p>
    </div>
  </div>
</section>

<div class="divider-gradient"></div>

<!-- Tech Stack -->
<section class="relative section-glow-top">
  <div class="absolute inset-0 bg-racing-darker/60"></div>
  <div class="relative max-w-6xl mx-auto px-6 py-24">
    <div class="text-center mb-10">
      <p class="text-xs font-semibold tracking-widest uppercase text-racing-accent mb-3">Technology</p>
      <h2 class="text-3xl md:text-4xl font-bold">Built With</h2>
    </div>
    <div class="flex flex-wrap items-center justify-center gap-3">
      {{ range (slice "Go" "Wails v2" "React" "TypeScript" "Vite" "Tailwind CSS") }}
        <span class="px-5 py-2.5 bg-racing-card/60 border border-racing-border/50 rounded-xl text-sm font-medium text-racing-neutral badge-shimmer">{{ . }}</span>
      {{ end }}
    </div>
  </div>
</section>

<div class="divider-gradient"></div>

<!-- System Requirements -->
<section class="max-w-6xl mx-auto px-6 py-24">
  <div class="text-center mb-10">
    <p class="text-xs font-semibold tracking-widest uppercase text-racing-accent mb-3">Requirements</p>
    <h2 class="text-3xl md:text-4xl font-bold">System Requirements</h2>
  </div>
  <div class="max-w-md mx-auto bg-racing-card/40 border border-racing-border/50 rounded-xl p-6">
    {{ range (slice
      (dict "label" "OS" "value" "Windows 10 / 11 (64-bit)")
      (dict "label" "Graphics" "value" "Desktop composition enabled")
      (dict "label" "iRacing" "value" "No extra config needed")
      (dict "label" "F1 Games" "value" "UDP telemetry enabled in settings")
    ) }}
      <div class="flex items-center justify-between py-3 border-b border-racing-border/30 last:border-0">
        <span class="text-sm text-racing-neutral">{{ .label }}</span>
        <span class="text-sm font-medium">{{ .value }}</span>
      </div>
    {{ end }}
  </div>
</section>

<div class="divider-gradient"></div>

<!-- CTA -->
<section class="relative overflow-hidden">
  <div class="absolute inset-0 hero-glow"></div>
  <div class="relative max-w-6xl mx-auto px-6 py-24 text-center">
    <h2 class="text-3xl md:text-4xl font-bold mb-4">Ready to drive?</h2>
    <p class="text-racing-neutral mb-10 max-w-lg mx-auto">Download RacePulse and have telemetry overlays running in under a minute.</p>
    <a href="{{ .Site.Params.releaseURL }}" class="btn-glow inline-block px-8 py-3.5 bg-gradient-to-r from-racing-accent to-rose-700 text-white font-semibold rounded-xl transition-all text-base">
      Get the Latest Release
    </a>
  </div>
</section>
{{ end }}
